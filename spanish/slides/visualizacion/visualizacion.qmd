---
title: "Estadística descriptiva y visualización de datos en R"
subtitle: "Especialización en Investigación Científica UNEMI 2024"
author: "Daniel Sánchez Pazmiño"
date: "2024-01-01"
data-format: "YYYY"
format: 
  revealjs:
    theme: simple
    highlight-style: github
    css: styles.css
    font: 
      text: "Lato"
      heading: "Oxanium"
    slide-number: true
    incremental: true
knitr:
  opts_chunk: 
    collapse: true
    echo: true
    message: false
    warning: false
---

```{r}
#| label: setup
#| include: FALSE

library(here)

```

# Estadística descriptiva

- Resume y describe las características de un conjunto de datos mediante medidas numéricas y gráficas

- Se diferencia de la estadística inferencial, que se enfoca en predecir conclusiones sobre una población a partir de una muestra

# Tipos de datos

- **Categóricos**: no se pueden medir numéricamente
  - Nominales: no tienen orden. Ej. colores, género, etc.
  - Ordinales: tienen orden. Ej. nivel de educación, nivel de satisfacción, etc.

- **Cuantitativos**: se pueden medir numéricamente
  - Discretos: valores enteros. Ej. número de hijos, número de estudiantes, etc.
  - Continuos: valores reales. Ej. peso, altura, temperatura, etc.

# Análisis de datos cuantitativos

## Medidas de tendencia central

Las medidas de tendencia central son valores que representan el centro de un conjunto de datos.

- **Media**: promedio de los datos

- **Mediana**: valor que divide a los datos en dos partes iguales

- **Moda**: valor que más se repite

## Media aritmética o promedio

- Se calcula sumando todos los valores y dividiendo entre el número de datos

$$\bar{x} = \frac{\sum_{i=1}^{n} x_i}{n}$$

- Implementación en R: `mean(x)`, función de R base

## Datos de ejemplo
```{r}
#| label: media-aritmetica

# Cargar datos

library(dplyr)
library(readxl) # Para limpiar datos de texto

supercias <- read_excel(here("spanish/data/directorio_companias.xlsx"), 
                        skip = 4,
                        locale = readr::locale(decimal_mark = ",")) %>%
              janitor::clean_names()

supercias %>%
  head()
```

## Calculando el promedio de capital de suscrito

- Utilizando la función `mean()` de R base

```{r}
#| label: media-aritmetica-capital

library(stringr)
library(dplyr)

supercias_limpio <- 
    supercias %>%
    mutate(capital_suscrito = as.numeric(str_replace_all(capital_suscrito, ",", "."))) %>%
    filter(!is.na(capital_suscrito))

mean(supercias_limpio$capital_suscrito)
```

## Utilizando `mean()` con `na.rm = TRUE`

- Si hay valores faltantes, se puede utilizar el argumento `na.rm = TRUE` para ignorarlos

- No se necesita limpiar los datos previamente con `filter()`

```{r}

supercias_limpio <- 
    supercias %>%
    mutate(capital_suscrito = as.numeric(str_replace_all(capital_suscrito, ",", ".")))

mean(supercias$capital_suscrito, na.rm = TRUE)

```